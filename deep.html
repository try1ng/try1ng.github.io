<!DOCTYPE html>
<html>
  <body>
<script>
function corruptHistoryState() {
    // Imagine a bug where pushState's origin check could be bypassed.
    // This would push a foreign origin into OUR tab's history.
    history.pushState(
        { page: "fakeGoogle" }, 
        "Google", 
        "https://google.com"
    );

    // Now, theoretically, the address bar shows google.com.
    // But the document.origin is still evil-site.com.
    // Any relative resource requests (XHR, images) would go to google.com,
    // but our script context remains to manipulate the DOM.
}
</script>
</body>
</html>